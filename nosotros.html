<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Como debe de mostrar el contenido y que tamaño debe de mostrar imagenes y textos -->
    <title>Diseños pruebas</title>

    <link rel="preload" href="css/styles.css" as="style">
    <link rel="stylesheet" href="css/styles.css">


</head>
<body>
    <header>
        <h1>Juan Salas Freelancer</h1> <!-- h1 al h6 va de lo mas improtante a lo menos importante en orden-->
    </header>
    <form action="insertar.php" method="POST">
            <fieldset>
                <legend>Registra tus datos</legend>

                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" placeholder="Nombre" required><br><br>

                <label for="apellidos">Apellidos:</label>
                <input type="text" id="apellidos" name="apellidos" placeholder="Apellidos" required><br><br>

                <label for="edad">Edad:</label>
                <input type="number" id="edad" name="edad" placeholder="Edad" required><br><br>

                <label for="calle">Calle:</label>
                <input type="text" id="calle" name="calle" placeholder="Calle" required><br><br>

                <label for="numero">Número:</label>
                <input type="number" id="numero" name="numero" placeholder="Número" step="any" required><br><br>

                <button type="submit">Agregar</button>
            </fieldset>
        </form>


        <script>
            // Capturar el evento de envío del formulario
            document.getElementById('formulario').addEventListener('submit', function(event) {
                event.preventDefault();
    
                // Obtener los valores de los campos del formulario
                const nombre = document.getElementById('nombre').value;
                const apellidos = document.getElementById('apellidos').value;
                const edad = parseInt(document.getElementById('edad').value);
                const calle = document.getElementById('calle').value;
                const numero = parseFloat(document.getElementById('numero').value);
    
                // Crear un objeto con los datos
                const data = {
                    nombre: nombre,
                    apellidos: apellidos,
                    edad: edad,
                    calle: calle,
                    numero: numero
                };
    
                // Enviar los datos al servidor usando Fetch API
                fetch('http://localhost:3000/insertar', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                })
                .then(response => response.text())
                .then(result => {
                    alert('Resultado: ' + result);
                })
                .catch(error => {
                    console.error('Error al insertar los datos:', error);
                    alert('Error al insertar los datos');
                });
            });
        </script>
    </section>

    <footer class="footer">
        <h4>Conceptualizacion de servicios en la nube</h4>
        <div><strong>Integrante 1</strong><p>Salas Pérez Juan Antonio</p> 
             <p><strong>Codigo</strong> 222308378</p>
             <p><strong>Correo</strong> juan.salas0837@alumnos.udg.mx </p>
        </div>
        <div><strong>Integrante 2</strong><p>Hernandez Martinez Guillermo Ulises </p> 
             <p><strong>Codigo</strong> 218558106</p>
             <p><strong>Correo</strong> guillermo.hernandez5581@alumnos.udg.mx</p>
        </div>
    </footer>
   
</body>
</html>